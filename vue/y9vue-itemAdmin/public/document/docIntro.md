# 流程设计

## 1. 流程定义

新增流程，填写流程定义key，流程定义名称。

![image-20230822141446522](../images/docIntro/image-20230822141446522.png)

![image-20230822142122883](../images/docIntro/image-20230822142122883.png)

## 2. 流程图设计

流程图以【开始事件】开始，以【结束事件】结束。

![image-20230822142416455](../images/docIntro/image-20230822142416455.png)

用户任务，填写任务id，任务名称，任务处理用户固定。

![image-20230822142542949](../images/docIntro/image-20230822142542949.png)

多实例任务，用户任务包括【单实例任务】接收人多个会抢占式签收办理该件，【并行多实例任务】接收人多个可同时办理该件，【串行多实例任务】接收人多个会按顺序办理该件。

![image-20230822150806537](../images/docIntro/image-20230822150806537.png)

流转条件，排他网关出来的线路默认配置流转条件表达式。

![image-20230823145556539](../images/docIntro/image-20230823145556539.png)

设计完成后点击保存即可。

# 流程部署

## 1. 流程部署

在流程图设计列表点击【部署】，部署当前流程，部署后可在【流程部署】列表查看，也可在【流程部署】列表直接上传文件进行部署。

![image-20230822152009806](../images/docIntro/image-20230822152009806.png)

![image-20230822152326855](../images/docIntro/image-20230822152326855.png)

# 新增事项

## 1. 新增事项

在【事项管理】菜单下新增事项，绑定相应的流程，配置应用url，系统中文名和英文名。

![image-20230822153658894](../images/docIntro/image-20230822153658894.png)

![image-20230822154235120](../images/docIntro/image-20230822154235120.png)

# 表单管理
## 1.业务表管理

选择对应的系统，可以添加数据库已有的表，表名需以y9_form_开头，也可创建新表。

![image-20230822154417097](../images/docIntro/image-20230822154417097.png)

![image-20230822154632464](../images/docIntro/image-20230822154632464.png)

填写表名，添加相应的字段，【保存】只保存数据，不会生成或修改数据库表结构；【新生成表】数据库如果已存在表结构，会清空数据，删除对应的表，重新生成表结构；【修改表结构】已存在的数据库表添加字段，不会清空数据。

![image-20230822154952245](../images/docIntro/image-20230822154952245.png)

![image-20230822154825676](../images/docIntro/image-20230822154825676.png)

## 2.数据字典

添加数据字典，用于表单绑定多选框，单选框，下拉框数据。

![image-20230822164146481](../images/docIntro/image-20230822164146481.png)

## 3. 表单设计

表单设计官方使用手册：https://form.making.link/docs/manual/introduction.html

### 3.1添加表单

添加表单后，点击【表单设计】，进入设计页面。

![image-20230822155717317](../images/docIntro/image-20230822155717317.png)

可以直接导入模板修改。

![image-20230822155805766](../images/docIntro/image-20230822155805766.png)

也可使用表格布局重新设计。

![image-20230822171527923](../images/docIntro/image-20230822171527923.png)

### 3.2表单样式

在【表单属性】的表单样式中添加表单的样式后，在字段的自定义class中引用。

![image-20230822161401793](../images/docIntro/image-20230822161401793.png)

![image-20230822161441097](../images/docIntro/image-20230822161441097.png)

### 3.3绑定数据库字段

表字段绑定数据库表字段，选择对应的元素，点击【字段标识】输入框，弹出字段绑定页面。

![image-20230822160130125](../images/docIntro/image-20230822160130125.png)

![image-20230822160211253](../images/docIntro/image-20230822160211253.png)

字段变蓝，或字段标识有已绑定，说明已绑定成功。

![image-20230822161919015](../images/docIntro/image-20230822161919015.png)

### 3.4默认字段

guid和processInstanceId为默认隐藏字段，拖拉单行文本字段后勾选隐藏即可。

![image-20230822155951525](../images/docIntro/image-20230822155951525.png)

![image-20230822160005405](../images/docIntro/image-20230822160005405.png)



### 3.5动态默认值

输入框动态默认值，以$_加字段名，前端工程解析赋值。

![image-20230822160841400](../images/docIntro/image-20230822160841400.png)

### 3.6数据字典使用

选择下拉框字段，可使用静态数据或动态数据。

![image-20230822164441489](../images/docIntro/image-20230822164441489.png)

动态数据绑定数据字典，点击数据字典输入框绑定数据字典，方法函数可根据前端工程实现改变。

![image-20230822164633891](../images/docIntro/image-20230822164633891.png)

![image-20230822171302231](../images/docIntro/image-20230822171302231.png)

### 3.7字段必填

![image-20230822165154323](../images/docIntro/image-20230822165154323.png)

### 3.8字段事件绑定

![image-20230822165325512](../images/docIntro/image-20230822165325512.png)

![image-20230822165353916](../images/docIntro/image-20230822165353916.png)

### 3.9意见框绑定

点击输入框选择意见框进行绑定。

![image-20230822170651853](../images/docIntro/image-20230822170651853.png)

![image-20230823102516418](../images/docIntro/image-20230823102516418.png)

### 3.10附件列表

附件列表字段标识值为固定值custom_file。

![image-20230822170844740](../images/docIntro/image-20230822170844740.png)

### 3.11打印表单

设计专门的打印表单。

![image-20230822174840757](../images/docIntro/image-20230822174840757.png)

# 意见框管理

## 1.添加意见框

添加意见框，用于与事项绑定。

![image-20230822171729205](../images/docIntro/image-20230822171729205.png)

#  动态角色
## 1.添加动态角色

添加动态角色，用于事项节点授权。

![image-20230822172158560](../images/docIntro/image-20230822172158560.png)

# 按钮管理

## 1.添加按钮

添加发送按钮，事项配置发送按钮后，会显示在发送下拉菜单，前端根据唯一标识实现按钮方法。

![image-20230822172413672](../images/docIntro/image-20230822172413672.png)

![image-20230822172612696](../images/docIntro/image-20230822172612696.png)

普通按钮直接显示。

![image-20230822172655841](../images/docIntro/image-20230822172655841.png)

# 视图类型

## 1.添加视图类型

可在视图配置中使用。

![image-20230822175637698](../images/docIntro/image-20230822175637698.png)

# 事项配置

## 1. 表单配置

新部署流程时，需要重新绑定表单。

![image-20230822173613368](../images/docIntro/image-20230822173613368.png)

绑定表单可以选择前端需要显示的页签，不勾选则不显示。

![image-20230822173744234](../images/docIntro/image-20230822173744234.png)

![image-20230822173845519](../images/docIntro/image-20230822173845519.png)

## 2. 权限配置

权限配置可以绑定多个类型的权限主体。

![image-20230822174022006](../images/docIntro/image-20230822174022006.png)

## 3.意见框配置

绑定意见框，不绑定角色则全部人可以填写，绑定角色则该角色人员可以填写，【必填意见】为是时，发送时会校验是否已填写意见，没有填写则提示。

![image-20230822174208204](../images/docIntro/image-20230822174208204.png)

## 4.打印模板配置

绑定打印表单

![image-20230822175213787](../images/docIntro/image-20230822175213787.png)

## 5.按钮配置

按钮不绑定角色则所有人可见，绑定角色则角色内的人可见。

![image-20230822175318562](../images/docIntro/image-20230822175318562.png)

![image-20230822175351938](../images/docIntro/image-20230822175351938.png)

## 6.视图配置

可以配置表单上已绑定的字段，也可自定义字段，需要配合前后端代码实现。

![image-20230822175844420](../images/docIntro/image-20230822175844420.png)

![image-20230822175918921](../images/docIntro/image-20230822175918921.png)

# 应用访问

浏览器直接访问应用url。

![image-20230822180152816](../images/docIntro/image-20230822180152816.png)

